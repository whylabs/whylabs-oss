import { config } from '../../config';

export const EveryAnomalyPagerDutyContent = {
  routing_key: 'c42c44',
  event_action: 'trigger',
  dedup_key: `EVERY_ANOMALY-${config.test.datasetId}-${config.test.monitorId}-d3d6a1ad-d09c-4779-9033-baa077ff5fc8`,
  payload: {
    summary: `Anomaly: Your monitor "${config.test.monitorDisplayName}" on feature "${config.test.columnName}" from dataset "${config.test.datasetName}" detected a low severity issue`,
    source: 'whylabs',
    severity: 'error',
    timestamp: '2022-09-08T22:09:09.779Z',
    component: 'whylogs',
    custom_details: {
      id: 'e137963f-1dfc-325f-8a41-18ca0f402864',
      analysis_id: '6095cab8-3c42-3f6f-8dbe-2c2da1f8601e',
      analyzer_id: 'missing-values-ratio-analyzer',
      creation_timestamp: 1660241078109,
      dataset_id: config.test.datasetId,
      dataset_timestamp: 1660089600000,
      feature: config.test.columnName,
      granularity: 'DAYS',
      metric: 'count_null_ratio',
      mode: 'EVERY_ANOMALY',
      run_id: 'd3d6a1ad-d09c-4779-9033-baa077ff5fc8',
      segment: '',
      target_level: 'column',
      type: 'stddev',
      url: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?targetOrgId=${config.test.orgId}`,
      weight: 1,
    },
  },
  images: [],
  links: [
    {
      href: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?startDate=2022-08-10&endDate=2022-08-10&targetOrgId=${config.test.orgId}`,
      text: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?startDate=2022-08-10&endDate=2022-08-10&targetOrgId=${config.test.orgId}`,
    },
  ],
};

export const DigestPagerDutyContent = {
  routing_key: 'c42c44',
  event_action: 'trigger',
  dedup_key: `DIGEST-${config.test.datasetId}-${config.test.monitorId}-ec88d889-0f6b-4df0-bf6f-1158a4f28dd1`,
  payload: {
    component: 'whylogs',
    source: 'whylabs',
    severity: 'error',
    timestamp: '2022-09-08T10:50:46.119Z',
    summary: `Alert: Your monitor "${config.test.monitorDisplayName}" on dataset "${config.test.datasetName}" detected 14 low severity issues`,
    custom_details: {
      id: '9844765c-35b4-42ce-9e7c-9b23a92c4d9c',
      alerted_features: [
        {
          count: 14,
          feature: config.test.columnName,
          type: 'drift',
          url: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?startDate=2022-05-03&endDate=2022-05-16&targetOrgId=${config.test.orgId}`,
        },
      ],
      alerted_segments: [
        {
          count: 14,
          features: [config.test.columnName],
          segment: '',
          type: 'drift',
          url: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?startDate=2022-05-03&endDate=2022-05-16&targetOrgId=${config.test.orgId}`,
        },
      ],
      dataset_id: config.test.datasetId,
      dataset_name: config.test.datasetName,
      mode: 'DIGEST',
      most_recent_anomalies: [
        {
          id: 'd8eb2fa6-75e1-3937-8973-a4d1b6e4103c',
          algorithm: 'hellinger',
          algorithm_mode: 'frequent_items',
          analysis_id: '66bf442f-05aa-3668-a01b-9e69a017a3ff',
          analyzer_id: 'muddy-green-chinchilla-1108-analyzer',
          creation_timestamp: 1659472021383,
          dataset_id: config.test.datasetId,
          dataset_timestamp: 1652659200000,
          feature: config.test.columnName,
          granularity: 'DAYS',
          metric: 'frequent_items',
          run_id: 'ec88d889-0f6b-4df0-bf6f-1158a4f28dd1',
          segment: '',
          target_level: 'column',
          type: 'drift',
          weight: null,
          url: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?targetOrgId=${config.test.orgId}`,
        },
        {
          id: 'faa97a88-5fbb-3a8e-b1e8-6824061b9886',
          algorithm: 'hellinger',
          algorithm_mode: 'frequent_items',
          analysis_id: 'a83185df-ffd8-3aa4-b628-6d1c12653443',
          analyzer_id: 'muddy-green-chinchilla-1108-analyzer',
          creation_timestamp: 1659472021383,
          dataset_id: config.test.datasetId,
          dataset_timestamp: 1652572800000,
          feature: config.test.columnName,
          granularity: 'DAYS',
          metric: 'frequent_items',
          run_id: 'ec88d889-0f6b-4df0-bf6f-1158a4f28dd1',
          segment: '',
          target_level: 'column',
          type: 'drift',
          weight: null,
          url: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?targetOrgId=${config.test.orgId}`,
        },
        {
          id: 'aedaab7b-8e53-3755-b8cc-ab1ce8b155c3',
          algorithm: 'hellinger',
          algorithm_mode: 'frequent_items',
          analysis_id: 'afad1b3c-b456-30d1-8589-4370124ea183',
          analyzer_id: 'muddy-green-chinchilla-1108-analyzer',
          creation_timestamp: 1659472021383,
          dataset_id: config.test.datasetId,
          dataset_timestamp: 1652486400000,
          feature: config.test.columnName,
          granularity: 'DAYS',
          metric: 'frequent_items',
          run_id: 'ec88d889-0f6b-4df0-bf6f-1158a4f28dd1',
          segment: '',
          target_level: 'column',
          type: 'drift',
          weight: null,
          url: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?targetOrgId=${config.test.orgId}`,
        },
        {
          id: '2665ff1b-39a5-30b0-b58a-dff318d07635',
          algorithm: 'hellinger',
          algorithm_mode: 'frequent_items',
          analysis_id: '56e26a88-a301-310b-b3de-f7a772ad0d6d',
          analyzer_id: 'muddy-green-chinchilla-1108-analyzer',
          creation_timestamp: 1659472021383,
          dataset_id: config.test.datasetId,
          dataset_timestamp: 1652400000000,
          feature: config.test.columnName,
          granularity: 'DAYS',
          metric: 'frequent_items',
          run_id: 'ec88d889-0f6b-4df0-bf6f-1158a4f28dd1',
          segment: '',
          target_level: 'column',
          type: 'drift',
          weight: null,
          url: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?targetOrgId=${config.test.orgId}`,
        },
        {
          id: '8a3f659c-e58f-3f40-b717-5fd3e6639d16',
          algorithm: 'hellinger',
          algorithm_mode: 'frequent_items',
          analysis_id: '2b90df93-24ed-3a8d-be86-090cb3756524',
          analyzer_id: 'muddy-green-chinchilla-1108-analyzer',
          creation_timestamp: 1659472021383,
          dataset_id: config.test.datasetId,
          dataset_timestamp: 1652313600000,
          feature: config.test.columnName,
          granularity: 'DAYS',
          metric: 'frequent_items',
          run_id: 'ec88d889-0f6b-4df0-bf6f-1158a4f28dd1',
          segment: '',
          target_level: 'column',
          type: 'drift',
          weight: null,
          url: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?targetOrgId=${config.test.orgId}`,
        },
        {
          id: '2ffe3094-85df-347b-a0ce-ba2ea1739e12',
          algorithm: 'hellinger',
          algorithm_mode: 'frequent_items',
          analysis_id: '05f765f5-20bc-30fb-8fad-eb78357611b0',
          analyzer_id: 'muddy-green-chinchilla-1108-analyzer',
          creation_timestamp: 1659472021382,
          dataset_id: config.test.datasetId,
          dataset_timestamp: 1652227200000,
          feature: config.test.columnName,
          granularity: 'DAYS',
          metric: 'frequent_items',
          run_id: 'ec88d889-0f6b-4df0-bf6f-1158a4f28dd1',
          segment: '',
          target_level: 'column',
          type: 'drift',
          weight: null,
          url: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?targetOrgId=${config.test.orgId}`,
        },
        {
          id: '3abad49c-f3c3-385c-a6e7-06deb154439f',
          algorithm: 'hellinger',
          algorithm_mode: 'frequent_items',
          analysis_id: 'f576572f-1a99-3e76-9bf0-512ed56aeb91',
          analyzer_id: 'muddy-green-chinchilla-1108-analyzer',
          creation_timestamp: 1659472021382,
          dataset_id: config.test.datasetId,
          dataset_timestamp: 1652140800000,
          feature: config.test.columnName,
          granularity: 'DAYS',
          metric: 'frequent_items',
          run_id: 'ec88d889-0f6b-4df0-bf6f-1158a4f28dd1',
          segment: '',
          target_level: 'column',
          type: 'drift',
          weight: null,
          url: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?targetOrgId=${config.test.orgId}`,
        },
        {
          id: '3f2d9efa-88cd-38bb-9289-66415e1ec9d5',
          algorithm: 'hellinger',
          algorithm_mode: 'frequent_items',
          analysis_id: '7f993dfc-266a-32d9-919e-6279db6857f5',
          analyzer_id: 'muddy-green-chinchilla-1108-analyzer',
          creation_timestamp: 1659472021382,
          dataset_id: config.test.datasetId,
          dataset_timestamp: 1652054400000,
          feature: config.test.columnName,
          granularity: 'DAYS',
          metric: 'frequent_items',
          run_id: 'ec88d889-0f6b-4df0-bf6f-1158a4f28dd1',
          segment: '',
          target_level: 'column',
          type: 'drift',
          weight: null,
          url: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?targetOrgId=${config.test.orgId}`,
        },
        {
          id: '0c4a0785-3e9c-3d5f-83cc-db0a1e354038',
          algorithm: 'hellinger',
          algorithm_mode: 'frequent_items',
          analysis_id: '875594a2-4415-35e6-a00f-08c37f2548a0',
          analyzer_id: 'muddy-green-chinchilla-1108-analyzer',
          creation_timestamp: 1659472021382,
          dataset_id: config.test.datasetId,
          dataset_timestamp: 1651968000000,
          feature: config.test.columnName,
          granularity: 'DAYS',
          metric: 'frequent_items',
          run_id: 'ec88d889-0f6b-4df0-bf6f-1158a4f28dd1',
          segment: '',
          target_level: 'column',
          type: 'drift',
          weight: null,
          url: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?targetOrgId=${config.test.orgId}`,
        },
        {
          id: 'd7cf2ec7-bb45-3704-b62e-5fad99d71095',
          algorithm: 'hellinger',
          algorithm_mode: 'frequent_items',
          analysis_id: '050ab37f-acae-378c-b5fb-872572e84141',
          analyzer_id: 'muddy-green-chinchilla-1108-analyzer',
          creation_timestamp: 1659472021382,
          dataset_id: config.test.datasetId,
          dataset_timestamp: 1651881600000,
          feature: config.test.columnName,
          granularity: 'DAYS',
          metric: 'frequent_items',
          run_id: 'ec88d889-0f6b-4df0-bf6f-1158a4f28dd1',
          segment: '',
          target_level: 'column',
          type: 'drift',
          weight: null,
          url: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?targetOrgId=${config.test.orgId}`,
        },
        {
          id: 'b48f21f8-1298-3343-80d1-7df975e5c8bc',
          algorithm: 'hellinger',
          algorithm_mode: 'frequent_items',
          analysis_id: '876d3a1b-b59a-3a79-aa3a-6cc5f5f7ed57',
          analyzer_id: 'muddy-green-chinchilla-1108-analyzer',
          creation_timestamp: 1659472021381,
          dataset_id: config.test.datasetId,
          dataset_timestamp: 1651795200000,
          feature: config.test.columnName,
          granularity: 'DAYS',
          metric: 'frequent_items',
          run_id: 'ec88d889-0f6b-4df0-bf6f-1158a4f28dd1',
          segment: '',
          target_level: 'column',
          type: 'drift',
          weight: null,
          url: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?targetOrgId=${config.test.orgId}`,
        },
        {
          id: '53166d81-c95e-3109-96fe-f12af2129c32',
          algorithm: 'hellinger',
          algorithm_mode: 'frequent_items',
          analysis_id: '9779f3a4-cdec-3875-9914-daecd50496b3',
          analyzer_id: 'muddy-green-chinchilla-1108-analyzer',
          creation_timestamp: 1659472021381,
          dataset_id: config.test.datasetId,
          dataset_timestamp: 1651708800000,
          feature: config.test.columnName,
          granularity: 'DAYS',
          metric: 'frequent_items',
          run_id: 'ec88d889-0f6b-4df0-bf6f-1158a4f28dd1',
          segment: '',
          target_level: 'column',
          type: 'drift',
          weight: null,
          url: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?targetOrgId=${config.test.orgId}`,
        },
        {
          id: '083e4771-a82b-3b12-8caa-2fc407d06711',
          algorithm: 'hellinger',
          algorithm_mode: 'frequent_items',
          analysis_id: 'f3e5fb12-8f29-331b-8d7b-ed7e115d483e',
          analyzer_id: 'muddy-green-chinchilla-1108-analyzer',
          creation_timestamp: 1659472021381,
          dataset_id: config.test.datasetId,
          dataset_timestamp: 1651622400000,
          feature: config.test.columnName,
          granularity: 'DAYS',
          metric: 'frequent_items',
          run_id: 'ec88d889-0f6b-4df0-bf6f-1158a4f28dd1',
          segment: '',
          target_level: 'column',
          type: 'drift',
          weight: null,
          url: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?targetOrgId=${config.test.orgId}`,
        },
        {
          id: '2f0130e8-b53c-37f5-8752-6034666f5a96',
          algorithm: 'hellinger',
          algorithm_mode: 'frequent_items',
          analysis_id: '469af526-76c6-358e-a422-a1101f40890d',
          analyzer_id: 'muddy-green-chinchilla-1108-analyzer',
          creation_timestamp: 1659472021379,
          dataset_id: config.test.datasetId,
          dataset_timestamp: 1651536000000,
          feature: config.test.columnName,
          granularity: 'DAYS',
          metric: 'frequent_items',
          run_id: 'ec88d889-0f6b-4df0-bf6f-1158a4f28dd1',
          segment: '',
          target_level: 'column',
          type: 'drift',
          weight: null,
          url: `https://observatory.development.whylabsdev.com/resources/${config.test.datasetId}/columns/${config.test.columnName}?targetOrgId=${config.test.orgId}`,
        },
      ],
      org_id: config.test.orgId,
      time_range: '2022-05-03T00:00:00.000Z/2022-05-16T00:00:00.000Z',
      total_alerts: 14,
      severity: 3,
      schema_version: '3.0',
    },
  },
};
